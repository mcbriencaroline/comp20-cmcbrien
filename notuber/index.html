<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="geo_style.css" />
    
 


    <script>
    var map;
    var myLat = 0;
	var myLng = 0;
	var request = new XMLHttpRequest();
	//var me = new google.maps.LatLng(myLat, myLng);

	function getMyLocation() {
				console.log("GETTING LOCATION");
				if (navigator.geolocation) { // the navigator.geolocation object is supported on your browser
					navigator.geolocation.getCurrentPosition(function(position) {
						myLat = position.coords.latitude;
						myLng = position.coords.longitude;
						initMap();
					});
				}
				else {
					alert("Geolocation is not supported by your web browser.  What a shame!");
				}
			}

    function initMap() {
      	console.log("INITIALIZING");
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: myLat, lng: myLng},
          zoom: 13,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        });
        //getMyLocation();
      }


    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyACf0deH0MqopT_5EGU9qO-3gI-miaFnkw&callback=initMap"
    async defer></script>

     </head>

   <body onload="getMyLocation()">
    <div id="map"></div>
  </body>
</html>